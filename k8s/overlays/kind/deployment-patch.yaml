apiVersion: apps/v1
kind: Deployment
metadata:
  name: bridge-rt
spec:
  template:
    spec:
      # Override volumes for kind - paths mounted via kind config extraMounts
      volumes:
        - name: shm-bridge
          emptyDir:
            medium: Memory
            sizeLimit: 16Mi
        - name: video-device-0
          hostPath:
            path: /dev/video0
            type: CharDevice
        - name: video-device-1
          hostPath:
            path: /dev/video1
            type: CharDevice
        - name: models
          hostPath:
            path: /models  # This path is inside kind node, mounted via extraMounts
            type: Directory

      containers:
        - name: gateway
          imagePullPolicy: IfNotPresent

          # Enable for development/debugging
          # stdin: true
          # tty: true

        - name: inference
          imagePullPolicy: IfNotPresent

          # Enable for development/debugging
          # stdin: true
          # tty: true

        - name: logic
          imagePullPolicy: IfNotPresent
